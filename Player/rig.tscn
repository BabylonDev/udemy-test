[gd_scene load_steps=13 format=3 uid="uid://co5vpdfir2v5k"]

[ext_resource type="Script" uid="uid://cwyqlu1vc1gqy" path="res://Player/rig.gd" id="1_wer68"]
[ext_resource type="PackedScene" uid="uid://1uoekou16lsu" path="res://Assets/3D_Assets/Character/CharacterRig.glb" id="1_ydo8n"]
[ext_resource type="PackedScene" uid="uid://bfeuyjpexdedy" path="res://Assets/3D_Assets/Character/Gear/Longsword.glb" id="3_ojd8b"]
[ext_resource type="PackedScene" uid="uid://cpwb2sek5b5y3" path="res://Assets/3D_Assets/Character/Gear/Tall_Shield.glb" id="4_awthv"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_awthv"]
animation = &"Run"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_32kt2"]
animation = &"Idle"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_8s7l5"]
blend_point_0/node = SubResource("AnimationNodeAnimation_awthv")
blend_point_0/pos = 1.0
blend_point_1/node = SubResource("AnimationNodeAnimation_32kt2")
blend_point_1/pos = -1.0

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_wer68"]
animation = &"Slash"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_icx30"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ojd8b"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_awthv"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_sy1xi"]
states/MoveSpace/node = SubResource("AnimationNodeBlendSpace1D_8s7l5")
states/MoveSpace/position = Vector2(541, 82)
states/Slash/node = SubResource("AnimationNodeAnimation_wer68")
states/Slash/position = Vector2(536, 203)
transitions = ["Start", "MoveSpace", SubResource("AnimationNodeStateMachineTransition_icx30"), "MoveSpace", "Slash", SubResource("AnimationNodeStateMachineTransition_ojd8b"), "Slash", "MoveSpace", SubResource("AnimationNodeStateMachineTransition_awthv")]

[node name="Rig" type="Node3D"]
script = ExtResource("1_wer68")

[node name="CharacterRig" parent="." instance=ExtResource("1_ydo8n")]

[node name="Skeleton3D" parent="CharacterRig/GameRig" index="0"]
bones/0/position = Vector3(0.027434131, 0.89501274, -0.016923463)
bones/0/rotation = Quaternion(0.14220722, 1.1799776e-07, 1.695242e-08, 0.98983693)
bones/1/rotation = Quaternion(-0.051117845, 0.00024772628, 0.0029180944, 0.99868834)
bones/2/position = Vector3(1.785309e-09, 0.14350045, 8.070494e-09)
bones/2/rotation = Quaternion(0.019358568, -0.0034975472, -0.02965588, 0.9993666)
bones/3/position = Vector3(7.831679e-10, 0.19110237, -2.2315852e-08)
bones/3/rotation = Quaternion(-0.17550758, -0.013078842, 0.06320105, 0.9823603)
bones/4/position = Vector3(-3.9615258e-09, 0.087162815, -5.6138205e-09)
bones/4/rotation = Quaternion(0.35109317, -3.352655e-05, -0.0768452, 0.9331819)
bones/5/rotation = Quaternion(-0.0948566, -3.1102556e-09, -6.6055854e-08, 0.995491)
bones/6/rotation = Quaternion(-0.1826293, 0.01970992, 0.039033044, 0.9822091)
bones/7/position = Vector3(0.027434085, 0.8950126, -0.01692338)
bones/7/rotation = Quaternion(-0.077579945, -0.74466735, -0.3954196, 0.53206694)
bones/8/position = Vector3(0.027434083, 0.8950126, -0.016923428)
bones/8/rotation = Quaternion(-0.07757989, 0.7446674, 0.3954196, 0.53206694)
bones/9/position = Vector3(0.15857778, 0.9607199, -0.0017036907)
bones/9/rotation = Quaternion(0.9562592, -0.012488436, -0.02613778, 0.2910828)
bones/10/position = Vector3(-1.9378723e-08, 0.26425827, 1.580252e-08)
bones/10/rotation = Quaternion(7.920478e-08, -0.009151342, -6.040434e-10, 0.99995816)
bones/11/position = Vector3(-2.6893773e-08, 0.2642582, -7.3228e-09)
bones/11/rotation = Quaternion(0.518665, -0.008434827, 0.0082518095, 0.8548961)
bones/12/position = Vector3(4.1921124e-09, 0.22422001, 2.7552161e-08)
bones/12/rotation = Quaternion(6.9258377e-10, 0.005420372, 4.7312888e-08, 0.99998534)
bones/13/position = Vector3(-1.3014631e-08, 0.2242201, -1.7017973e-08)
bones/13/rotation = Quaternion(-0.71186274, 0.030176878, -0.025946692, 0.7011901)
bones/14/position = Vector3(-1.2397827e-08, 0.13987772, -4.5263926e-10)
bones/14/rotation = Quaternion(-0.00010063027, 0.9674604, -0.25302234, -0.0003823922)
bones/15/position = Vector3(-0.10370958, 0.96072006, -0.0017036665)
bones/15/rotation = Quaternion(0.99784636, -0.02468929, 0.031144159, 0.052184165)
bones/16/position = Vector3(-5.2036064e-09, 0.2642097, -2.16422e-08)
bones/16/rotation = Quaternion(-5.570265e-09, -3.582232e-05, -2.4467287e-08, 1)
bones/17/position = Vector3(9.920287e-09, 0.26420978, -6.2152568e-09)
bones/17/rotation = Quaternion(0.50387186, 0.000287847, 0.0009235743, 0.86377794)
bones/18/position = Vector3(9.171025e-09, 0.22417524, -1.14639e-08)
bones/18/rotation = Quaternion(-2.3353564e-08, -0.011414042, 5.340412e-09, 0.9999349)
bones/19/position = Vector3(-7.734253e-09, 0.22417518, -1.7773807e-08)
bones/19/rotation = Quaternion(-0.64104486, -0.03281136, -0.0044646203, 0.76678884)
bones/20/position = Vector3(1.0952261e-09, 0.13987786, -8.569936e-09)
bones/20/rotation = Quaternion(-9.954687e-05, 0.9674596, -0.25302517, -0.00038308374)
bones/21/position = Vector3(0.051815838, 1.4048375, 0.104670145)
bones/21/rotation = Quaternion(-0.4388483, -0.28098464, -0.39957038, 0.7541905)
bones/22/position = Vector3(0.21559107, 1.4575608, 0.054065965)
bones/22/rotation = Quaternion(-0.04216056, -0.10860385, 0.9809899, -0.15519904)
bones/23/position = Vector3(-5.0457345e-09, 0.14217794, -5.9698436e-08)
bones/23/rotation = Quaternion(9.117884e-08, -0.033289548, -3.1115285e-08, 0.99944586)
bones/24/position = Vector3(-5.6631134e-08, 0.14217815, 1.2635634e-08)
bones/24/rotation = Quaternion(0.52865463, -0.04003928, -0.14089409, 0.8361041)
bones/25/position = Vector3(-2.824409e-08, 0.12577172, 1.5336141e-08)
bones/25/rotation = Quaternion(1.2721246e-07, 0.0048335553, 4.913495e-08, 0.9999883)
bones/26/position = Vector3(1.9952171e-08, 0.12577164, -5.42539e-09)
bones/26/rotation = Quaternion(0.028380647, 0.0046046725, -0.17530558, 0.98409414)
bones/28/rotation = Quaternion(0.70258325, -0.0009397945, -0.0013355055, 0.7115997)
bones/29/rotation = Quaternion(0.74112064, 0.0021826355, 0.0026539888, 0.6713631)
bones/30/rotation = Quaternion(0.3252695, 0.8900552, 0.29597712, -0.119996905)
bones/31/rotation = Quaternion(0.5148822, -0.11414928, 0.114482574, 0.84187895)
bones/32/rotation = Quaternion(0.5920035, -0.038135044, -0.09069872, 0.799907)
bones/34/position = Vector3(-0.0031693727, 0.09872067, 0.014791738)
bones/34/rotation = Quaternion(-0.06747008, 0.71844566, 0.066396415, 0.68911195)
bones/35/rotation = Quaternion(0.58080345, -0.0008918572, -0.0014974999, 0.814042)
bones/36/rotation = Quaternion(0.68277705, 0.0017451922, 0.002566166, 0.73062027)
bones/37/rotation = Quaternion(-0.0042650755, 0.73671365, 0.03947847, 0.675038)
bones/38/position = Vector3(-0.0062295515, 0.09264146, -0.023634417)
bones/38/rotation = Quaternion(-0.10987271, 0.7433509, 0.033350497, 0.65897274)
bones/39/rotation = Quaternion(0.6300385, 0.0015196588, 0.0023790428, 0.77655876)
bones/40/rotation = Quaternion(0.65264326, -0.003081237, -0.0042105718, 0.75764745)
bones/41/rotation = Quaternion(-0.068417504, 0.72411, 0.033233877, 0.6854775)
bones/42/position = Vector3(-0.0071537066, 0.067985795, -0.048198402)
bones/42/rotation = Quaternion(-0.12091296, 0.7991089, 0.03589211, 0.5878068)
bones/43/rotation = Quaternion(0.49869272, -0.020270603, -0.025695246, 0.86616087)
bones/44/rotation = Quaternion(0.71538454, 0.0353061, 0.057314254, 0.6954808)
bones/45/rotation = Quaternion(-0.1290595, 0.7289364, -0.025025956, 0.67184013)
bones/46/position = Vector3(0.015518979, 1.4023669, 0.10338311)
bones/46/rotation = Quaternion(-0.4720248, 0.21995793, 0.43398976, 0.7351626)
bones/47/position = Vector3(-0.1489998, 1.4327681, 0.037234966)
bones/47/rotation = Quaternion(0.076769546, -0.015911419, 0.98313254, 0.16523872)
bones/48/position = Vector3(-1.3716399e-08, 0.14337967, 4.6576794e-08)
bones/48/rotation = Quaternion(-2.0883707e-08, 0.09810003, -9.4982e-08, 0.9951767)
bones/49/position = Vector3(1.8029002e-08, 0.14337987, 2.6932632e-08)
bones/49/rotation = Quaternion(0.44717416, 0.106705606, 0.12066954, 0.8798228)
bones/50/position = Vector3(-8.8313456e-08, 0.12702563, 3.477391e-08)
bones/50/rotation = Quaternion(1.676811e-07, -0.0063186935, -2.353973e-08, 0.9999801)
bones/51/position = Vector3(1.2749621e-07, 0.12702575, 2.8895712e-09)
bones/51/rotation = Quaternion(-0.12198447, -0.006086673, -0.015586807, 0.992391)
bones/52/rotation = Quaternion(-0.25630003, 0.8558594, 0.029918514, -0.44824094)
bones/53/rotation = Quaternion(0.694912, 0.10714471, -0.10354831, 0.7034878)
bones/54/rotation = Quaternion(0.7411205, -0.0021827384, -0.002654012, 0.6713633)
bones/55/rotation = Quaternion(-0.3252694, 0.89005524, 0.29597658, 0.11999792)
bones/56/rotation = Quaternion(0.5148819, 0.11415042, -0.114482984, 0.8418789)
bones/57/rotation = Quaternion(0.5920036, 0.038134687, 0.09069913, 0.799907)
bones/59/position = Vector3(0.0031693648, 0.09872071, 0.0147918975)
bones/59/rotation = Quaternion(0.13877109, -0.70491564, 0.15570956, 0.67793155)
bones/60/rotation = Quaternion(0.579984, 0.0462614, -0.03087552, 0.81272703)
bones/61/rotation = Quaternion(0.6827772, -0.0017471296, -0.0025645674, 0.73062015)
bones/62/rotation = Quaternion(-0.0042653396, -0.7367138, -0.039478756, 0.67503786)
bones/63/position = Vector3(0.0062295552, 0.09264138, -0.023634387)
bones/63/rotation = Quaternion(0.10409552, -0.7196071, 0.18626247, 0.6607844)
bones/64/rotation = Quaternion(0.67069286, 0.016339093, -0.018566329, 0.74132276)
bones/65/rotation = Quaternion(0.69249856, 0.0033036629, 0.00403909, 0.7214004)
bones/66/rotation = Quaternion(-0.068417706, -0.7241101, -0.033233874, 0.68547726)
bones/67/position = Vector3(0.0071536624, 0.06798572, -0.048198376)
bones/67/rotation = Quaternion(0.10836413, -0.7682235, 0.1662908, 0.6086355)
bones/68/rotation = Quaternion(0.6299535, 0.02951483, 0.017751005, 0.77586883)
bones/69/rotation = Quaternion(0.8166777, -0.043953456, -0.050986134, 0.5731545)
bones/70/rotation = Quaternion(-0.1290598, -0.7289365, 0.02502582, 0.6718399)
bones/71/position = Vector3(0.1604811, 1.343372, 0.028181097)
bones/71/rotation = Quaternion(-0.031164484, 0.5467562, 0.8364017, -0.022776235)
bones/72/position = Vector3(-0.07884837, 1.3270813, 0.019694883)
bones/72/rotation = Quaternion(-0.031164484, 0.5467562, 0.8364017, -0.022776233)

[node name="Knight_01" parent="CharacterRig/GameRig/Skeleton3D" index="0"]
visible = false

[node name="Villager_01" parent="CharacterRig/GameRig/Skeleton3D" index="2"]
visible = false

[node name="Villager_02" parent="CharacterRig/GameRig/Skeleton3D" index="3"]
visible = false

[node name="AnimationPlayer" parent="CharacterRig" index="1"]
autoplay = "Run"

[node name="AnimationTree" type="AnimationTree" parent="."]
root_node = NodePath("../CharacterRig")
tree_root = SubResource("AnimationNodeStateMachine_sy1xi")
anim_player = NodePath("../CharacterRig/AnimationPlayer")
parameters/MoveSpace/blend_position = 0.1

[node name="RightHandBone" type="BoneAttachment3D" parent="."]
transform = Transform3D(-0.99016315, -0.12774575, -0.05708103, 0.059143376, -0.7518491, 0.6566774, -0.12680401, 0.6468419, 0.75200814, -0.27044705, 1.0165627, 0.24213965)
bone_name = "DEF-hand.R"
bone_idx = 51
use_external_skeleton = true
external_skeleton = NodePath("../CharacterRig/GameRig/Skeleton3D")

[node name="WeaponSlot" type="Node3D" parent="RightHandBone"]
transform = Transform3D(0.00055718806, -0.055344306, 0.9984682, 0.99994946, 0.01011879, 3.0260708e-06, -0.010103244, 0.99841714, 0.0553474, -0.024634292, 0.08542501, -0.0022312882)

[node name="Longsword" parent="RightHandBone/WeaponSlot" instance=ExtResource("3_ojd8b")]

[node name="LefttHandBone" type="BoneAttachment3D" parent="."]
transform = Transform3D(-0.9182471, -0.390027, -0.06856833, 0.17035082, -0.54534537, 0.8207186, -0.35749593, 0.7419419, 0.567203, 0.29348692, 1.0384465, 0.19485979)
bone_name = "DEF-hand.L"
bone_idx = 26
use_external_skeleton = true
external_skeleton = NodePath("../CharacterRig/GameRig/Skeleton3D")

[node name="WeaponSlot" type="Node3D" parent="LefttHandBone"]
transform = Transform3D(-0.14797424, 0.05589801, -0.9874114, -0.9888236, 0.010056492, 0.14875516, 0.018245183, 0.99838704, 0.05378543, -0.06469134, 0.1326366, -0.046927296)

[node name="Tall_Shield" parent="LefttHandBone/WeaponSlot" instance=ExtResource("4_awthv")]

[editable path="CharacterRig"]
